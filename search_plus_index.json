{"./":{"url":"./","title":"Introduction","keywords":"","body":"Introduction Linux系统入门，从内核发行版本到各种基础命令的使用。 最后附赠一个安装任何大型分布式集群所需的先决环境配置。 By renwujie            updated 2021-01-26 15:56:00 "},"01-kernal-and-version/":{"url":"01-kernal-and-version/","title":"01-kernal-and-version","keywords":"","body":" By renwujie            updated 2021-01-25 00:24:50 "},"02-installation/":{"url":"02-installation/","title":"02-installation","keywords":"","body":"CentOS系统安装 软件版本 宿主机：Windows 10 虚拟机：Vmware Workstation 10 Linux版本：Centos7 64位 安装步骤 以上配置完成并保存后，点击“Begin Installation”，开始安装。 重启后登录root用户。 看下网络配置是否正确生效。 By renwujie            updated 2021-01-26 15:32:40 "},"03-basic-shell/":{"url":"03-basic-shell/","title":"03-basic-shell","keywords":"","body":" By renwujie            updated 2021-01-25 00:24:50 "},"04-network/":{"url":"04-network/","title":"04-network","keywords":"","body":" By renwujie            updated 2021-01-25 00:24:50 "},"15-cluster-setup-prerequisites/":{"url":"15-cluster-setup-prerequisites/","title":"15-cluster-setup-prerequisites","keywords":"","body":"集群安装先决环境 这里以三台机器组成一个集群为例。集群节点安排如下： HOST NAME IP ADDRESS OPRATING SYSTEM n1 192.168.154.11 CentOS 7 n2 192.168.154.12 CentOS 7 n3 192.168.154.13 CentOS 7 参考：Vmware安装CetOS系统，先安装好3台机器。主机名和ip地址见上表。如果要修改请参考： 配置主机名 。 配置网络信息 。 其他配置参考如下： [info] 注意 没特殊说明的，就是三台机器都需要配置的。 另外，不同系统和版本可能略有差异。 修改hosts文件，配置映射信息； 关闭防火墙； 禁用SELinux； 修改umask值为0022； 配置NTP时间同步； 配置免密SSH； 安装JDK； 以上所有配置完成后重启，保险起见，最好分别验证是否生效。 如果验证全部正确以后，就可以去搭建hadoop、HBase、Spark等集群了。 By renwujie            updated 2021-01-26 20:32:44 "},"15-cluster-setup-prerequisites/01-config-hostname/":{"url":"15-cluster-setup-prerequisites/01-config-hostname/","title":"01-config-hostname","keywords":"","body":"配置主机名 执行以下命令来修改主机名： hostnamectl set-hostname 修改后查看是否生效： By renwujie            updated 2021-01-26 17:32:24 "},"15-cluster-setup-prerequisites/02-config-network/":{"url":"15-cluster-setup-prerequisites/02-config-network/","title":"02-config-network","keywords":"","body":"配置网络信息 在 CentOS 6 中， 网络设置及静态IP配置在 /etc/sysconfig/network-scripts/ifcfg-eth0 文件中配置，CentOS 7 网卡命令规则变化，命名规则根据系统固件和硬件来命名为 ifcfg-en* 类型。我的电脑网罗配置文件是：/etc/sysconfig/network-scripts/ifcfg-ens33。可用以下命令来查找自己的网络配置文件： ll /etc/sysconfig/network-scripts/ | grep ifcfg-en 编辑网络配置文件 vim /etc/sysconfig/network-scripts/ifcfg-ens33 修改后重启，查看网卡信息是否正确生效。 #重启网卡 systemctl restart network #查看ip信息是否正确生效 ip addr By renwujie            updated 2021-01-26 20:38:20 "},"15-cluster-setup-prerequisites/03-config-hosts/":{"url":"15-cluster-setup-prerequisites/03-config-hosts/","title":"03-config-hosts","keywords":"","body":"编辑hosts文件 ​ 配置hosts映射，一行一条。所有节点都需要配置。 修改完成、保存后即可生效。测试： ping n2 ping n3 By renwujie            updated 2021-01-26 17:56:58 "},"15-cluster-setup-prerequisites/04-config-firewall/":{"url":"15-cluster-setup-prerequisites/04-config-firewall/","title":"04-config-firewall","keywords":"","body":"关闭防火墙 # 查看防火墙是否在运行 systemctl status firewalld # 关闭防火墙 systemctl stop firewalld systemctl disable firewalld # 重启电脑后，检验是否关闭成功 systemctl status firewalld By renwujie            updated 2021-01-26 18:04:18 "},"15-cluster-setup-prerequisites/05-config-selinux/":{"url":"15-cluster-setup-prerequisites/05-config-selinux/","title":"05-config-selinux","keywords":"","body":"禁用SELinux 禁用SELinux，所有节点都要执行。 By renwujie            updated 2021-01-26 18:08:55 "},"15-cluster-setup-prerequisites/06-config-umask/":{"url":"15-cluster-setup-prerequisites/06-config-umask/","title":"06-config-umask","keywords":"","body":"修改umask值 在Linux系统上，UMASK（用户掩码或用户文件创建掩码）指定了当一个新的文件或者新的文件夹被创建时被授予的默认权限，或基权限。大多数Linux发行版都将umask的默认值设为022。umask值为022表示授予了新创建的文件或者文件夹的读、写、以及执行权限为755。umask值为027则表示授予新创建的文件或文件夹的读、写、以及执行权限为750。 # 使用命令 umask 可以查看创建掩码 umask # 修改 umask ，比如将 umask 修改为 0022 umask 0022 By renwujie            updated 2021-01-26 18:14:15 "},"15-cluster-setup-prerequisites/07-config-time-sync/":{"url":"15-cluster-setup-prerequisites/07-config-time-sync/","title":"07-config-time-sync","keywords":"","body":"配置NTP时间同步 配置时间同步需要有一台节点作为server，其他节点作为client去同步server的时间。 主机名 角色 n1 server n2 client n3 client 前提 配置时间同步之前要确保节点之间可以ping通。即已经完成配置hosts文件。 安装 三台都要安装NTP。 yum install -y ntp 配置 先配置server vim /etc/ntp.conf 启动ntp server，并查看状态。 # 启动 systemctl start ntpd # 查看状态 systemctl status ntpd 验证是否成功启用同步。 设置开启自启。 systemctl enable ntpd 再配置client 修改配置文件，将server作为client要同步的时间服务器。所有的client都要配置。 vim /etc/ntp.conf 启动NTP服务，并将NTP服务加入开机自启。 systemctl start ntpd systemctl enable ntpd 查看是否成功开启同步。 ntpq -p By renwujie            updated 2021-01-26 18:51:22 "},"15-cluster-setup-prerequisites/08-config-ssh/":{"url":"15-cluster-setup-prerequisites/08-config-ssh/","title":"08-config-ssh","keywords":"","body":"配置免密SSH 前提 三台主机要能互相ping通，即已经完成配置hosts文件。 配置步骤 每个节点上分别执行以下命令。 # 以rsa算法生成密匙 ssh-keygen - rsa # 发送公匙到指定的节点，包括本机自己也要执行。 # 有几台就要执行几次； # 比如三台节点 n1、n2、n3，就要将hostname分别换成n1、n2、n3，每台节点上都要执行三次，分别发送到n1、n2、n3 ssh-copy-id 如果报：ssh-copy-id not found，安装openssh-clients后再执行ssh-copy-id命令。 yum install openssh-clients -y 验证 配置完成后，验证是否能够免密登录。 ssh By renwujie            updated 2021-01-26 19:00:48 "},"15-cluster-setup-prerequisites/09-config-jdk/":{"url":"15-cluster-setup-prerequisites/09-config-jdk/","title":"09-config-jdk","keywords":"","body":"安装JDK 所有节点都要安装，建议安装jdk8以上版本。下载地址。 解压压缩包。 tar -zxvf jdk-8u281-linux-i586.tar.gz --no-same-owner 配置环境变量，保存后让其生效。 # 配置 vim /etc/profile # 生效 source /etc/profile 验证。 java -version 看到以下结果才算配置正确。 By renwujie            updated 2021-01-26 20:30:04 "}}